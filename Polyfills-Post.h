// This file is auto-generated by generate_polyfill_header.sh. DO NOT EDIT.
#import <Foundation/Foundation.h>

// Base polyfill scripts (for all versions)
static NSString *scriptsPost = @"\
\"use strict\";console.log(\"Polyfills scripts-post started.\");(function(){var viewport=document.querySelector(\"meta[name=viewport]\");if(viewport){var content=viewport.getAttribute(\"content\");var parts=content.split(\",\");for(var i=0;i<parts.length;++i){var part=parts[i].trim();var pair=part.split(\"=\");if(pair[0]===\"min-width\"){var minWidth=parseInt(pair[1]);if(screen.width<minWidth){document.head.removeChild(viewport);var newViewport=document.createElement(\"meta\");newViewport.setAttribute(\"name\",\"viewport\");newViewport.setAttribute(\"content\",\"width=\"+minWidth);document.head.appendChild(newViewport);break}}}}})();";

// Polyfill scripts for iOS < 16.4
static NSString *scriptsPost_before_16_4 = @"\
\"use strict\";function _createForOfIteratorHelper(r,e){var t=\"undefined\"!=typeof Symbol&&r[Symbol.iterator]||r[\"@@iterator\"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&\"number\"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t[\"return\"]||t[\"return\"]()}finally{if(u)throw o}}}}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function _unsupportedIterableToArray(r,a){if(r){if(\"string\"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return\"Object\"===t&&r.constructor&&(t=r.constructor.name),\"Map\"===t||\"Set\"===t?Array.from(r):\"Arguments\"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _iterableToArray(r){if(\"undefined\"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r[\"@@iterator\"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}(function(){var UNIT_MAP={dvh:\"vh\",svh:\"vh\",lvh:\"vh\",dvw:\"vw\",svw:\"vw\",lvw:\"vw\",dvmin:\"vmin\",svmin:\"vmin\",lvmin:\"vmin\",dvmax:\"vmax\",svmax:\"vmax\",lvmax:\"vmax\"};var valueUnitRegex=new RegExp(\"(-?\\\\d*\\\\.?\\\\d+)\\\\s*(\".concat(Object.keys(UNIT_MAP).join(\"|\"),\")(?![a-zA-Z])\"),\"g\");function replaceUnitsOutsideVar(str){var result=\"\";var i=0;while(i<str.length){var varStart=str.indexOf(\"var(\",i);if(varStart===-1){result+=str.slice(i).replace(valueUnitRegex,function(_,num,unit){return\"\".concat(num).concat(UNIT_MAP[unit])});break}result+=str.slice(i,varStart).replace(valueUnitRegex,function(_,num,unit){return\"\".concat(num).concat(UNIT_MAP[unit])});var depth=1;var j=varStart+4;while(j<str.length&&depth>0){if(str[j]===\"(\")depth++;else if(str[j]===\")\")depth--;j++}result+=str.slice(varStart,j);i=j}return result}function fixStyleSheet(sheet){try{var rules=sheet.cssRules;for(var i=0;i<rules.length;i++){var rule=rules[i];if(rule.type===CSSRule.STYLE_RULE){var style=rule.style;for(var j=0;j<style.length;j++){var prop=style.item(j);var value=style.getPropertyValue(prop);var replaced=replaceUnitsOutsideVar(value);if(value!==replaced){style.setProperty(prop,replaced,style.getPropertyPriority(prop))}}}else if(rule.type===CSSRule.MEDIA_RULE||rule.type===CSSRule.SUPPORTS_RULE){fixStyleSheet(rule)}}}catch(e){throw e}}function processSheet(sheet){try{fixStyleSheet(sheet)}catch(err){if(sheet.href){var oldLink=_toConsumableArray(document.querySelectorAll('link[rel=\"stylesheet\"]')).find(function(link){return link.href===sheet.href&&!link.dataset._viewportPolyfilled});if(oldLink){var newLink=oldLink.cloneNode(true);newLink.crossOrigin=\"anonymous\";newLink.dataset._viewportPolyfilled=\"1\";newLink.onload=function(){if(newLink.sheet){try{fixStyleSheet(newLink.sheet)}catch(e2){}}};oldLink.replaceWith(newLink)}}}}var _iterator=_createForOfIteratorHelper(document.styleSheets),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var sheet=_step.value;processSheet(sheet)}}catch(err){_iterator.e(err)}finally{_iterator.f()}})();";

// Polyfill scripts for iOS < 15.4
static NSString *scriptsPost_before_15_4 = @"\
\"use strict\";function _typeof(o){\"@babel/helpers - typeof\";return _typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&\"function\"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?\"symbol\":typeof o},_typeof(o)}function _regeneratorValues(e){if(null!=e){var t=e[\"function\"==typeof Symbol&&Symbol.iterator||\"@@iterator\"],r=0;if(t)return t.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length))return{next:function next(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(_typeof(e)+\" is not iterable\")}function _createForOfIteratorHelper(r,e){var t=\"undefined\"!=typeof Symbol&&r[Symbol.iterator]||r[\"@@iterator\"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&\"number\"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t[\"return\"]||t[\"return\"]()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(r,a){if(r){if(\"string\"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return\"Object\"===t&&r.constructor&&(t=r.constructor.name),\"Map\"===t||\"Set\"===t?Array.from(r):\"Arguments\"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function _regenerator(){var e,t,r=\"function\"==typeof Symbol?Symbol:{},n=r.iterator||\"@@iterator\",o=r.toStringTag||\"@@toStringTag\";function i(r,n,o,i){var c=n&&n.prototype instanceof Generator?n:Generator,u=Object.create(c.prototype);return _regeneratorDefine2(u,\"_invoke\",function(r,n,o){var i,c,u,f=0,p=o||[],y=!1,G={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function d(t,r){return i=t,c=0,u=e,G.n=r,a}};function d(r,n){for(c=r,u=n,t=0;!y&&f&&!o&&t<p.length;t++){var o,i=p[t],d=G.p,l=i[2];r>3?(o=l===n)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(c=0,G.v=n,G.n=i[1]):d<l&&(o=r<3||i[0]>n||n>l)&&(i[4]=r,i[5]=n,G.n=l,c=0))}if(o||r>1)return a;throw y=!0,n}return function(o,p,l){if(f>1)throw TypeError(\"Generator is already running\");for(y&&1===p&&d(p,l),c=p,u=l;(t=c<2?e:u)||!y;){i||(c?c<3?(c>1&&(G.n=-1),d(c,u)):G.n=u:G.v=u);try{if(f=2,i){if(c||(o=\"next\"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError(\"iterator result is not an object\");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=i[\"return\"])&&t.call(i),c<2&&(u=TypeError(\"The iterator does not provide a '\"+o+\"' method\"),c=1);i=e}else if((t=(y=G.n<0)?u:r.call(n,G))!==a)break}catch(t){i=e,c=1,u=t}finally{f=1}}return{value:t,done:y}}}(r,o,i),!0),u}var a={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}t=Object.getPrototypeOf;var c=[][n]?t(t([][n]())):(_regeneratorDefine2(t={},n,function(){return this}),t),u=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,_regeneratorDefine2(e,o,\"GeneratorFunction\")),e.prototype=Object.create(u),e}return GeneratorFunction.prototype=GeneratorFunctionPrototype,_regeneratorDefine2(u,\"constructor\",GeneratorFunctionPrototype),_regeneratorDefine2(GeneratorFunctionPrototype,\"constructor\",GeneratorFunction),GeneratorFunction.displayName=\"GeneratorFunction\",_regeneratorDefine2(GeneratorFunctionPrototype,o,\"GeneratorFunction\"),_regeneratorDefine2(u),_regeneratorDefine2(u,o,\"Generator\"),_regeneratorDefine2(u,n,function(){return this}),_regeneratorDefine2(u,\"toString\",function(){return\"[object Generator]\"}),(_regenerator=function _regenerator(){return{w:i,m:f}})()}function _regeneratorDefine2(e,r,n,t){var i=Object.defineProperty;try{i({},\"\",{})}catch(e){i=0}_regeneratorDefine2=function _regeneratorDefine(e,r,n,t){if(r)i?i(e,r,{value:n,enumerable:!t,configurable:!t,writable:!t}):e[r]=n;else{var o=function o(r,n){_regeneratorDefine2(e,r,function(e){return this._invoke(r,n,e)})};o(\"next\",0),o(\"throw\",1),o(\"return\",2)}},_regeneratorDefine2(e,r,n,t)}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,\"next\",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,\"throw\",n)}_next(void 0)})}}(function polyfillCSSLayer(){function cleanCSS(css){return parseBlocks(css).join(\"\")}function parseBlocks(css){var startIndex=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var output=[];var buffer=\"\";var i=startIndex;while(i<css.length){if(css.startsWith(\"@layer\",i)){if(buffer.trim())output.push(buffer);buffer=\"\";i+=6;while(/\\s/.test(css[i]))i++;while(/[a-zA-Z0-9_.-]/.test(css[i]))i++;while(/\\s/.test(css[i]))i++;if(css[i]===\"{\"){var _extractBlock=extractBlock(css,i),blockContent=_extractBlock.blockContent,endIndex=_extractBlock.endIndex;var inner=parseBlocks(blockContent).join(\"\");output.push(inner);i=endIndex;continue}else{buffer+=\"@layer\";continue}}if(css[i]===\"{\"){var selector=buffer.trim();buffer=\"\";var _extractBlock2=extractBlock(css,i),_blockContent=_extractBlock2.blockContent,_endIndex=_extractBlock2.endIndex;var nested=parseBlocks(_blockContent).join(\"\");if(selector.includes(\"::backdrop\")){i=_endIndex;continue}var cleanedSelector=selector.split(\",\").map(function(s){return s.trim()}).filter(function(s){return s&&!s.includes(\"::backdrop\")}).join(\", \");if(cleanedSelector){output.push(\"\".concat(cleanedSelector,\" {\").concat(nested,\"}\"))}i=_endIndex}else{buffer+=css[i++]}}if(buffer.trim())output.push(buffer);return output}function extractBlock(css,startIndex){var i=startIndex;var depth=0;var maxLen=css.length;i++;var blockStart=i;while(i<maxLen){if(css[i]===\"{\")depth++;else if(css[i]===\"}\"){if(depth===0)break;depth--}i++}if(i>=maxLen){console.warn(\"⚠️ Unclosed CSS block detected\");return{blockContent:css.slice(blockStart),endIndex:maxLen}}var blockContent=css.slice(blockStart,i);return{blockContent:blockContent,endIndex:i+1}}function injectStyle(css,id){if(id&&document.getElementById(id))return;var style=document.createElement(\"style\");if(id)style.id=id;style.textContent=css;document.head.appendChild(style)}function reloadCrossOriginStylesheet(link){return new Promise(function(resolve,reject){var newLink=document.createElement(\"link\");newLink.rel=\"stylesheet\";newLink.href=link.href;newLink.crossOrigin=\"anonymous\";newLink.onload=function(){return resolve(newLink)};newLink.onerror=reject;link.parentNode.insertBefore(newLink,link.nextSibling);link.remove()})}function fetchAndInlineStylesheet(_x){return _fetchAndInlineStylesheet.apply(this,arguments)}function _fetchAndInlineStylesheet(){_fetchAndInlineStylesheet=_asyncToGenerator(_regenerator().m(function _callee(href){var res,cssText,cleaned,_t;return _regenerator().w(function(_context){while(1)switch(_context.n){case 0:_context.p=0;_context.n=1;return fetch(href,{mode:\"cors\"});case 1:res=_context.v;if(res.ok){_context.n=2;break}throw new Error(\"Failed to fetch \".concat(href));case 2:_context.n=3;return res.text();case 3:cssText=_context.v;cleaned=cleanCSS(cssText);injectStyle(cleaned);return _context.a(2,true);case 4:_context.p=4;_t=_context.v;console.warn(\"❌ Could not fetch stylesheet at \".concat(href),_t);return _context.a(2,false)}},_callee,null,[[0,4]])}));return _fetchAndInlineStylesheet.apply(this,arguments)}function processStyleSheets(){return _processStyleSheets.apply(this,arguments)}function _processStyleSheets(){_processStyleSheets=_asyncToGenerator(_regenerator().m(function _callee2(){var seen,links,_iterator,_step,_loop,_ret,_t3;return _regenerator().w(function(_context3){while(1)switch(_context3.n){case 0:seen=new WeakSet;links=Array.from(document.querySelectorAll('link[rel=\"stylesheet\"]'));_iterator=_createForOfIteratorHelper(document.styleSheets);_context3.p=1;_loop=_regenerator().m(function _loop(){var sheet,link,sheetOrigin,pageOrigin,fetched,reloaded,newSheet,cssText,cleaned,original,_cleaned,_t2;return _regenerator().w(function(_context2){while(1)switch(_context2.n){case 0:sheet=_step.value;if(!seen.has(sheet)){_context2.n=1;break}return _context2.a(2,0);case 1:seen.add(sheet);if(!sheet.href){_context2.n=12;break}link=links.find(function(l){return l.href===sheet.href});if(link){_context2.n=2;break}return _context2.a(2,0);case 2:sheetOrigin=new URL(sheet.href,location.href).origin;pageOrigin=location.origin;if(!(sheetOrigin===pageOrigin)){_context2.n=4;break}_context2.n=3;return fetchAndInlineStylesheet(sheet.href);case 3:return _context2.a(2,0);case 4:_context2.n=5;return fetchAndInlineStylesheet(sheet.href);case 5:fetched=_context2.v;if(!fetched){_context2.n=6;break}return _context2.a(2,0);case 6:if(link.crossOrigin){_context2.n=11;break}_context2.p=7;_context2.n=8;return reloadCrossOriginStylesheet(link);case 8:reloaded=_context2.v;_context2.n=9;return new Promise(function(r){return setTimeout(r,100)});case 9:newSheet=Array.from(document.styleSheets).find(function(s){return s.href===reloaded.href});if(newSheet){try{cssText=Array.from(newSheet.cssRules).map(function(rule){return rule.cssText}).join(\"\\n\");cleaned=cleanCSS(cssText);injectStyle(cleaned)}catch(e){console.warn(\"❌ Still can’t access cssRules for \".concat(reloaded.href),e)}}_context2.n=11;break;case 10:_context2.p=10;_t2=_context2.v;console.warn(\"❌ Reload with crossorigin failed for \".concat(link.href),_t2);case 11:_context2.n=13;break;case 12:if(sheet.ownerNode&&sheet.ownerNode.tagName===\"STYLE\"&&sheet.ownerNode.textContent.includes(\"@layer\")){original=sheet.ownerNode.textContent;_cleaned=cleanCSS(original);injectStyle(_cleaned)}case 13:return _context2.a(2)}},_loop,null,[[7,10]])});_iterator.s();case 2:if((_step=_iterator.n()).done){_context3.n=5;break}return _context3.d(_regeneratorValues(_loop()),3);case 3:_ret=_context3.v;if(!(_ret===0)){_context3.n=4;break}return _context3.a(3,4);case 4:_context3.n=2;break;case 5:_context3.n=7;break;case 6:_context3.p=6;_t3=_context3.v;_iterator.e(_t3);case 7:_context3.p=7;_iterator.f();return _context3.f(7);case 8:return _context3.a(2)}},_callee2,null,[[1,6,7,8]])}));return _processStyleSheets.apply(this,arguments)}processStyleSheets()})();";

